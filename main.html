<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
   <head>
      <title>ex 9.1.1</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <script src="jquery/jquery-1.5.2.min.js" type="text/javascript"></script>
      <style type="text/css">
         div {
            width: 400px;
            height: 400px;
            padding: 10px;
            margin: 10px;
            border: 3px double #369;
            overflow: auto;
         }
         span {
            color: red;
         }
      </style>
      <script type="text/javascript">
         $(function() {
            $('#loadButton').click(function() {
               $.ajax('testAjax.php', {
                  type: 'POST',
                  data: 'name=John&age=35',
                  timeout: 5000,
                  beforeSend: function() {
                     $('#target').text('Загрузка...')
                  },
                  success: function(data, textStatus, jqXHR) {
                     $('#target').html(data + '<br />Статус ответа: ' + textStatus +
                        '<br />Код ответа сервера: ' + jqXHR.status);
                  },
                  error: function(jqXHR, textStatus) {
                     $('#target').html('<span>' + textStatus + '</span><br />Код ответа сервера: ' + jqXHR.status);
                  }
               });
            });
            $('#clearButton').click(function() {
               $('#target').empty();
            });
         });
      </script>
   </head>
   <body>
      <div id="target"></div>
      <button id="loadButton">Загрузить</button>
      <button id="clearButton">Очистить</button>
   </body>
</html>
