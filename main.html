<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
   <head>
      <title>ex 9.1.1</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <script src="jquery/jquery-1.5.2.min.js" type="text/javascript"></script>
      <style type="text/css">
         div {
            width: 400px;
            height: 400px;
            padding: 10px;
            margin: 10px;
            border: 3px double #369;
            overflow: auto;
         }
      </style>
      <script type="text/javascript">
         $(function() {
            $('#loadJSON').click(function() {
               $.getJSON('testGetJSON.php', function(data, textStatus, jqXHR){
                  var items = [];
                  $.each(data, function(i, item) {
                     items.push(item.name + ': ' + item.phone);
                  });
                  $('#target').html(items.join('<br />'));
               });
            });
            $('#loadJSONP').click(function() {
               $.getJSON('http://api.flickr.com/services/feeds/photos_public.gne?tags=nature&tagmode=any&format=json&jsoncallback=?',
                  function(data){
                     $.each(data.items, function(i, item){
                        $('<img/>')
                           .attr('src', item.media.m)
                           .attr('title', item.title)
                           .appendTo('#target');
                        if (i == 5) {
                           return false;
                        }
                     });
                  });
            });
            $('#clearButton').click(function() {
               $('#target').empty();
            });
         });
      </script>
   </head>
   <body>
      <div id="target"></div>
      <button id="loadJSON">Загрузить JSON</button>
      <button id="loadJSONP">Загрузить JSONP</button>
      <button id="clearButton">Очистить</button>
   </body>
</html>
